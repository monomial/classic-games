(()=>{"use strict";class t{constructor(t,i){this.x=t,this.y=i,this.dx=300*(Math.random()>.5?1:-1),this.dy=300*(2*Math.random()-1),this.radius=10}update(t){this.x+=this.dx*t,this.y+=this.dy*t}draw(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle="#fff",t.fill(),t.closePath()}}class i{constructor(t,i){this.x=t,this.y=i,this.width=10,this.height=100,this.speed=300}moveUp(t){this.y-=this.speed*t}moveDown(t){this.y+=this.speed*t}moveLeft(t){this.x-=this.speed*t}moveRight(t){this.x+=this.speed*t}draw(t){t.fillStyle="#fff",t.fillRect(this.x-this.width/2,this.y,this.width,this.height)}}class s{constructor(){this.canvas=document.getElementById("gameCanvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=800,this.canvas.height=400,this.ball=new t(this.canvas.width/2,this.canvas.height/2),this.leftPaddle=new i(50,this.canvas.height/2-50),this.rightPaddle=new i(this.canvas.width-50,this.canvas.height/2-50),this.score={left:0,right:0},this.keys={},this.lastTime=0,window.addEventListener("keydown",(t=>this.keys[t.key]=!0)),window.addEventListener("keyup",(t=>this.keys[t.key]=!1)),this.gameLoop(0)}update(t){this.keys.w&&this.leftPaddle.y>0&&this.leftPaddle.moveUp(t),this.keys.s&&this.leftPaddle.y<this.canvas.height-this.leftPaddle.height&&this.leftPaddle.moveDown(t),this.keys.ArrowUp&&this.rightPaddle.y>0&&this.rightPaddle.moveUp(t),this.keys.ArrowDown&&this.rightPaddle.y<this.canvas.height-this.rightPaddle.height&&this.rightPaddle.moveDown(t),this.ball.update(t),(this.ball.y<=0||this.ball.y>=this.canvas.height)&&(this.ball.dy*=-1),this.ball.x<=this.leftPaddle.x+this.leftPaddle.width&&this.ball.y>=this.leftPaddle.y&&this.ball.y<=this.leftPaddle.y+this.leftPaddle.height&&(this.ball.dx=Math.abs(this.ball.dx)),this.ball.x>=this.rightPaddle.x&&this.ball.y>=this.rightPaddle.y&&this.ball.y<=this.rightPaddle.y+this.rightPaddle.height&&(this.ball.dx=-Math.abs(this.ball.dx)),this.ball.x<=0&&(this.score.right++,this.resetBall()),this.ball.x>=this.canvas.width&&(this.score.left++,this.resetBall())}resetBall(){this.ball.x=this.canvas.width/2,this.ball.y=this.canvas.height/2,this.ball.dx=300*(Math.random()>.5?1:-1),this.ball.dy=300*(2*Math.random()-1)}draw(){this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.setLineDash([5,15]),this.ctx.beginPath(),this.ctx.moveTo(this.canvas.width/2,0),this.ctx.lineTo(this.canvas.width/2,this.canvas.height),this.ctx.strokeStyle="#fff",this.ctx.stroke(),this.ctx.font="48px Arial",this.ctx.fillStyle="#fff",this.ctx.fillText(this.score.left.toString(),this.canvas.width/4,50),this.ctx.fillText(this.score.right.toString(),3*this.canvas.width/4,50),this.ball.draw(this.ctx),this.leftPaddle.draw(this.ctx),this.rightPaddle.draw(this.ctx)}gameLoop(t){const i=(t-this.lastTime)/1e3;this.lastTime=t,this.update(i),this.draw(),requestAnimationFrame((t=>this.gameLoop(t)))}}class h{constructor(t,i,s,h){this.x=t,this.y=i,this.width=s,this.height=h}draw(t){t.fillStyle="#f00",t.fillRect(this.x,this.y,this.width,this.height)}}class e{constructor(s){this.canvas=s,this.ctx=this.canvas.getContext("2d"),this.canvas.width=800,this.canvas.height=400,this.ball=new t(this.canvas.width/2,this.canvas.height-50),this.paddle=new i(this.canvas.width/2,this.canvas.height-20),this.bricks=this.initializeBricks(),this.score=0,this.keys={},this.lastTime=0,this.gameOver=!1,window.addEventListener("keydown",(t=>this.keys[t.key]=!0)),window.addEventListener("keyup",(t=>this.keys[t.key]=!1)),this.gameLoop(0)}initializeBricks(){const t=[];for(let i=0;i<5;i++)for(let s=0;s<8;s++)t.push(new h(90*s+10,30*i+10+50,80,20));return t}update(t){this.gameOver||(this.keys.ArrowLeft&&this.paddle.x>this.paddle.width/2&&this.paddle.moveLeft(t),this.keys.ArrowRight&&this.paddle.x<this.canvas.width-this.paddle.width/2&&this.paddle.moveRight(t),this.ball.update(t),(this.ball.x<=this.ball.radius||this.ball.x>=this.canvas.width-this.ball.radius)&&(this.ball.dx*=-1),this.ball.y<=this.ball.radius&&(this.ball.dy*=-1),this.ball.y>=this.paddle.y-this.ball.radius&&this.ball.x>=this.paddle.x-this.paddle.width/2&&this.ball.x<=this.paddle.x+this.paddle.width/2&&(this.ball.dy=-Math.abs(this.ball.dy)),this.bricks=this.bricks.filter((t=>!(this.ball.x>=t.x&&this.ball.x<=t.x+t.width&&this.ball.y>=t.y&&this.ball.y<=t.y+t.height&&(this.ball.dy*=-1,this.score+=10,1)))),this.ball.y>=this.canvas.height&&(this.gameOver=!0))}draw(){this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.font="24px Arial",this.ctx.fillStyle="#fff",this.ctx.fillText(`Score: ${this.score}`,10,30),this.ball.draw(this.ctx),this.paddle.draw(this.ctx),this.bricks.forEach((t=>t.draw(this.ctx))),this.gameOver&&(this.ctx.font="48px Arial",this.ctx.fillStyle="#fff",this.ctx.fillText("Game Over!",this.canvas.width/2-100,this.canvas.height/2))}gameLoop(t){const i=(t-this.lastTime)/1e3;this.lastTime=t,this.update(i),this.draw(),requestAnimationFrame((t=>this.gameLoop(t)))}}window.addEventListener("load",(()=>{const t=document.getElementById("gameCanvas"),i=document.getElementById("gameSelection"),h=document.getElementById("pongButton"),a=document.getElementById("breakoutButton");h.addEventListener("click",(()=>{i.style.display="none",t.style.display="block",new s})),a.addEventListener("click",(()=>{i.style.display="none",t.style.display="block",new e(t)}))}))})();